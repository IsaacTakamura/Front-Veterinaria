<div class="border rounded-md">
    <table class="w-full">
      <thead>
        <tr class="border-b">
          <th class="text-left p-4">Hora</th>
          <th class="text-left p-4">Paciente</th>
          <th class="hidden md:table-cell text-left p-4">Propietario</th>
          <th class="hidden md:table-cell text-left p-4">Motivo</th>
          <th class="text-left p-4">Estado</th>
          <th class="text-right p-4">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="citas.length === 0; else citasRows">
          <tr class="border-b">
            <td colspan="6" class="text-center p-6 h-24">
              No se encontraron citas.
            </td>
          </tr>
        </ng-container>
        <ng-template #citasRows>
          <tr *ngFor="let cita of citas" class="border-b hover:bg-gray-50">
            <td class="p-4">{{ cita.fechaRegistro | date:'HH:mm' }}</td>
            <td class="p-4">
              <div>
                <div class="font-medium">{{ cita.paciente }}</div>
                <div class="text-sm text-muted-foreground">
                  {{ cita.especie }} - {{ cita.raza }}
                </div>
              </div>
            </td>
            <td class="hidden md:table-cell p-4">{{ cita.propietario }}</td>
            <td class="hidden md:table-cell p-4">{{ cita.motivo }}</td>
            <td class="p-4">
              <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium" [ngClass]="cita.estadoCita | estadoCitaColor">
                {{ getEstadoTexto(cita.estadoCita) }}
              </span>
            </td>
            <td class="p-4 text-right">
              <div class="flex justify-end gap-2">
                <!-- Botón Triaje -->
                <button
                  class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-blue-500 text-blue-600 bg-white hover:bg-blue-50 h-10 w-10"
                  (click)="emitirTriaje(cita)"
                  title="Abrir Triaje"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                  </svg>
                  <span class="sr-only">Abrir Triaje</span>
                </button>
                <!-- Botón Historial -->
                <button
                  class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-green-500 text-green-600 bg-white hover:bg-green-50 h-10 w-10"
                  (click)="emitirHistorial(cita)"
                  title="Ver Historial"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span class="sr-only">Ver Historial</span>
                </button>
                <!-- Botón Detalles -->
                <button
                  class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 border border-gray-400 text-gray-700 bg-white hover:bg-gray-100 h-10 w-10"
                  (click)="emitirDetalles(cita)"
                  title="Ver Detalles"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0A9 9 0 11 3 12a9 9 0 0118 0z" />
                  </svg>
                  <span class="sr-only">Ver Detalles</span>
                </button>
              </div>
            </td>
          </tr>
        </ng-template>
      </tbody>
    </table>
  </div>
